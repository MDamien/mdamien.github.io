<html><head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>MT10 - jsFiddle demo</title>
  
  <script type="text/javascript" src="http://code.jquery.com/jquery-git2.js" djconfig="parseOnLoad: true"></script>
  <link rel="stylesheet" type="text/css" href="/css/normalize.css">
  
  
  <link rel="stylesheet" type="text/css" href="/css/result-light.css">
  
    
      <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css">
    
    
  
  <style type="text/css">
    
  </style>
  


<script type="text/javascript">//<![CDATA[ 

function smoofitude(x){
    return Math.max.apply(Math,primeFactorList(x));
}
function supersmoofitude(x){
    var arr = toFactorPowerList(primeFactorList(x))
    var max = 0;
    for(var i = 0;i < arr.length;i++){
        max = Math.max(max,Math.pow(arr[i][0],arr[i][1]));
    }
    return max;
}

function smooth() {
    var Bmax = parseInt($("#max-smooth").val());
    $("#smooth-table tbody").html("");
    for(var i = 2;i <= Bmax;i++){
        var s1 = smoofitude(i);
        var s2 = supersmoofitude(i);
        $("#smooth-table tbody").append($("<tr><th>"+i+"</th><th>"+s1+"</th><th>"+s2+"</th></tr>"));
    }
}

function primeFactorList(n) {
	if (n < 1)
		throw "Argument error";
	
	var result = [];
	while (n != 1) {
		var factor = smallestFactor(n);
		result.push(factor);
		n /= factor;
	}
	return result;
}

function smallestFactor(n) {
	if (n < 2)
		throw "Argument error";
	
	if (n % 2 == 0)
		return 2;
	var end = Math.floor(Math.sqrt(n));
	for (var i = 3; i <= end; i += 2) {
		if (n % i == 0)
			return i;
	}
	return n;
}

function toFactorPowerList(factors) {
	var result = [];
	var factor = factors[0];
	var count = 1;
	for (var i = 1; i < factors.length; i++) {
		if (factors[i] == factor) {
			count++;
		} else {
			result.push([factor, count]);
			factor = factors[i];
			count = 1;
		}
	}
	result.push([factor, count]);
	return result;
}
//]]>  

</script>


<style type="text/css"></style></head>
<body class="claro" style="">
  <div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
            	<h3>
				MT10
			</h3>

            <form>
                <fieldset>
                    <legend>Tableau des Smooth</legend>
                    <label>X max</label>
                    <input id="max-smooth" type="text" value="14"><br>
                    <button type="button" class="btn" onclick="smooth()">Calculer</button>
                </fieldset>
            </form>
            <table id="smooth-table" class="table">
                <thead>
                    <tr>
                        <th>X</th>
                        <th>Smoothitude</th>
                        <th>Super-Smoothitude</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
</div>
  





</body></html>
