<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Javascript</title>
    <style>
    body{
        font-family: arial;
        margin:40px auto; max-width:650px;
        line-height:1.6; font-size:18px;
        color:#222; padding:0 10px
    }
    h1,h2,h3{line-height:1.2}
    </style>
</head>
<body>

<h1>Javascript</h1>
<ul>
    <li>Language de programmation intégré aux navigateurs</li>
    <li>Permet de faire des pages web dynamiques</li>
</ul>

<h2>Exemples</h2>

<!-- Exemple d'alerte en JavaScript -->
<h3>Message basique</h3>
<!-- On crée un élément HTML button.
    On lui ajoute un attribut onclick ayant pour valeur le nom de la fonction JavaScript à exécuter (alerte).
    On ajoute "()" après le nom de la fonction pour que cela fonctionne (fonction sans paramètre).
-->
<button onclick="alerte()">Dire bonjour !</button>
<!-- Le JavaScript est contenu entre les balises script. -->
<script>
/* Fonction alerte, utilisée par l'élément button plus haut lorsque l'évènement onclick est détecté */
function alerte() {
    alert("Bienvenue cher participant de SI28 !")
    var reponse = confirm("Enlever l'épée du rocher ?")
    if(reponse){
        alert("Vous avez réussi ! Vous êtes roi d'angleterre !")
    }else{
        alert("Vous allez au bar pour oublier tout ce bordel !")
    }
}
</script>

<!-- Exemple de modification du contenus HTML en JavaScript -->
<h3>Modification du HTML</h3>
<input type="text" id="input" value="" placeholder="Discuter avec Bob...">
<button onclick="envoyer_message()">Envoyer</button>
<pre id="boite"></pre>
<script>
function element_aleatoire(tableau){
    return tableau[Math.floor(Math.random()*tableau.length)]
}

function envoyer_message(){
    var input = document.getElementById('input')
    var boite = document.getElementById('boite')
    var message = input.value
    var messages_de_bob = [
        "Je vous ai compris.",
        "J'avoue.",
        "42",
        "Pikachu ?",
        "Coucou, tu veux voir ma boite à crayons ?",
        "C'est bien ! Bien sur!... Enfin si on veut.",
        "C'est pas bien."
    ]
    var message_de_bob = element_aleatoire(messages_de_bob)
    boite.innerHTML += "<strong>Gars de SI28</strong> : "+message+"\n"
    boite.innerHTML += "<strong>Bob</strong> : "+message_de_bob+"\n"

    input.value = "" //remettre le champs texte a zéro
    return true; //empéche le chargement d'une nouvelle page
}
</script>

<!-- Exemple de modification de CSS en JavaScript -->
<h3>Modification de la mise en forme</h3>
<button id="bouton">Prendre du LSD</button>
<br/>
<button onclick="automatiserPriseLSD()">Automatiser piqûres</button>
<script>
function couleur_aleatoire(){
    var colors = ['red','blue','green','violet','rose','purple','yellow','grey'];
    return element_aleatoire(colors);
}

var bouton = document.getElementById("bouton");

function prendreLSD(){
    var taille = Math.round(Math.random()*50)+20
    var color = couleur_aleatoire()
    var color2 = couleur_aleatoire()
    var color3 = couleur_aleatoire()
    bouton.style['font-size'] = taille+"px"
    bouton.style['color'] = color
    bouton.style['background-color'] = color2
    bouton.style['border-color'] = color3
}

function automatiserPriseLSD(){
    setInterval(prendreLSD,50)
}

bouton.onclick = prendreLSD
</script>

<!-- Exemple de détection de survol d'éléments en JavaScript -->
<h3>Interactions par survol</h3>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<br/>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<div class="carre-bleu"></div>
<script>
    // Récupère les éléments avec la class carre-bleu
    var carresBleu = document.getElementsByClassName("carre-bleu");
    for (var i = 0; i < carresBleu.length; i++) {
        var carreBleu = carresBleu[i]
        /* "onmouseover" est déclenché quand la souris passe au dessus de l'élément
            On lui lie ici une fonction qui choisit une couleur parmi bleu et bleu clair
            */ 
        carreBleu.onmouseover = function() {
            this.style['background-color'] = element_aleatoire(['blue','lightblue'])
        };
        /* "onmouseout" est déclenché quand la souris qui était au dessus d'un l'élément le quitte
            On lui lie ici une fonction qui choisit une couleur parmi violet ou violet foncé.
            */ 
        carreBleu.onmouseout = function() {
            this.style['background-color'] = element_aleatoire(['violet','purple'])
        };
    }
</script>
<style>
.carre-bleu{
    display: inline-block;
    height: 60px;
    width: 60px;
    background-color: lightgrey;
}
</style>

<h3>À vous de jouer !</h3>
<a href="exos.html">Passer aux exercices</a>

</body>
</html>